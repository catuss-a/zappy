/*
** sock_reception_handler.c for libsock in /home/lamais_g//Projects/SystemUnix/libsock
** 
** Made by gauthier lamaison
** Login   <lamais_g@epitech.net>
** 
** Started on  Wed Jun  8 17:40:28 2011 gauthier lamaison
** Last update Sun Jul 10 16:58:10 2011 gauthier lamaison
*/

#include <stdlib.h>
#include "memory_pool.h"
#include "libsock.h"
#include "private_libsock.h"

extern t_sockserver	*g_server;

void			sock_reception_handler(void *ptr, void *arg)
{
  t_users		*user;
  char			*cmd;

  cmd = NULL;
  user = ptr;
  (void)arg;
  cmd = sock_receive(user->sock);
  if (cmd)
    {
      if (g_server->handlers->reception)
	g_server->handlers->reception(user, cmd, g_server->arg);
    }
}
